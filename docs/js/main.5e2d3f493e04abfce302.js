(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{0:function(e,t,o){e.exports=o("kpGR")},"3UD+":function(e){e.exports=function(e){if(!e.webpackPolyfill){var t=Object.create(e);t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),Object.defineProperty(t,"exports",{enumerable:!0}),t.webpackPolyfill=1}return t}},"9odl":function(e){e.exports="#define GLSLIFY 1\nvarying vec2 vUv;\n\nuniform float time;\nuniform vec3 fogColor;\nuniform float fogNear;\nuniform float fogFar;\nuniform sampler2D texture;\nuniform float opacity;\nuniform vec3 gradientColor;\nuniform float progress;\n\nvoid main() {\n\n\tvec2 uv = vUv;\n\t// vec4 color = texture2D( texture, vUv );\n\n\tvec4 origColor = texture2D(texture, vUv);\n    float grayscaleValue = dot(origColor.rgb, vec3(0.299, 0.587, 0.114));\n\n\t// remove green\n\t// if ( origColor.r < 0.4 && origColor.b < 0.4 && origColor.g > 0.4 ) {\n\t// \torigColor.a = 0.;\n\t// }\n\n\t// if ( origColor.r < 0.9 && origColor.b < 0.9 && origColor.g > 0.9 ) {\n\t// \torigColor.a = 0.;\n\t// }\n\n\tvec4 gradientImage = mix(vec4( gradientColor, 1.0), vec4(1.0, 1.0, 1.0, 1.0), grayscaleValue);\n\n\t// if ( gradientImage.b < 0.9 ) discard;\n\n\t// gl_FragColor = origColor * opacity;\n\tgl_FragColor = mix( vec4( gradientImage.rgb, 0. ), mix( gradientImage, origColor, progress ), opacity );\n\n\t#ifdef USE_FOG\n\t\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\t\tfloat depth = gl_FragDepthEXT / gl_FragCoord.w;\n\t\t#else\n\t\t\tfloat depth = gl_FragCoord.z / gl_FragCoord.w;\n\t\t#endif\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, depth );\n\t\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n\t#endif\n\n}"},Li5z:function(e){e.exports="#define GLSLIFY 1\nvarying vec2 vUv;\n\nuniform float time;\n\nvoid main () {\n\n    vUv = uv;\n    gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1 );\n\n}"},P3Nu:function(e,t){var o,a,i=Math.abs,n=function(e){var t={addEvent:function(e,t,o,a){e.addEventListener?e.addEventListener(t,o,!1):e.attachEvent&&(e["e"+t+o]=o,e[t+o]=function(){e["e"+t+o](window.event,a)},e.attachEvent("on"+t,e[t+o]))},removeEvent:function(e,t,o){e.removeEventListener?e.removeEventListener(t,o):e.attachEvent&&e.detachEvent(t)},input:"",pattern:"38384040373937396665",keydownHandler:function(o,e){if(e&&(t=e),t.input+=o?o.keyCode:event.keyCode,t.input.length>t.pattern.length&&(t.input=t.input.substr(t.input.length-t.pattern.length)),t.input===t.pattern)return t.code(t._currentLink),t.input="",o.preventDefault(),!1},load:function(e){this._currentLink=e,this.addEvent(document,"keydown",this.keydownHandler,this),this.iphone.load(e)},unload:function(){this.removeEvent(document,"keydown",this.keydownHandler),this.iphone.unload()},code:function(e){window.location=e},iphone:{start_x:0,start_y:0,stop_x:0,stop_y:0,tap:!1,capture:!1,orig_keys:"",keys:["UP","UP","DOWN","DOWN","LEFT","RIGHT","LEFT","RIGHT","TAP","TAP"],input:[],code:function(e){t.code(e)},touchmoveHandler:function(o){if(1===o.touches.length&&!0===t.iphone.capture){var e=o.touches[0];t.iphone.stop_x=e.pageX,t.iphone.stop_y=e.pageY,t.iphone.tap=!1,t.iphone.capture=!1,t.iphone.check_direction()}},touchendHandler:function(){if(t.iphone.input.push(t.iphone.check_direction()),t.iphone.input.length>t.iphone.keys.length&&t.iphone.input.shift(),t.iphone.input.length===t.iphone.keys.length){for(var e=!0,o=0;o<t.iphone.keys.length;o++)t.iphone.input[o]!==t.iphone.keys[o]&&(e=!1);e&&t.iphone.code(t._currentLink)}},touchstartHandler:function(o){t.iphone.start_x=o.changedTouches[0].pageX,t.iphone.start_y=o.changedTouches[0].pageY,t.iphone.tap=!0,t.iphone.capture=!0},load:function(){this.orig_keys=this.keys,t.addEvent(document,"touchmove",this.touchmoveHandler),t.addEvent(document,"touchend",this.touchendHandler,!1),t.addEvent(document,"touchstart",this.touchstartHandler)},unload:function(){t.removeEvent(document,"touchmove",this.touchmoveHandler),t.removeEvent(document,"touchend",this.touchendHandler),t.removeEvent(document,"touchstart",this.touchstartHandler)},check_direction:function(){return x_magnitude=i(this.start_x-this.stop_x),y_magnitude=i(this.start_y-this.stop_y),x=0>this.start_x-this.stop_x?"RIGHT":"LEFT",y=0>this.start_y-this.stop_y?"DOWN":"UP",result=x_magnitude>y_magnitude?x:y,result=!0===this.tap?"TAP":result,result}}};return"string"==typeof e&&t.load(e),"function"==typeof e&&(t.code=e,t.load()),t};"undefined"==typeof e.exports?(o=[],a=function(){return n}.apply(t,o),!(void 0!==a&&(e.exports=a))):e.exports=n},WQPq:function(){},kpGR:function(e,t,o){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var o,a=0;a<t.length;a++)o=t[a],o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}function n(e,t,o){return t&&i(e.prototype,t),o&&i(e,o),e}function s(e){"@babel/helpers - typeof";return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var o,a=0;a<t.length;a++)o=t[a],o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}function d(e,t,o){return t&&l(e.prototype,t),o&&l(e,o),e}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}function u(e,t){return u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},u(e,t)}function m(e){var t=h();return function(){var o,a=v(e);if(t){var i=v(this).constructor;o=Reflect.construct(a,arguments,i)}else o=a.apply(this,arguments);return p(this,o)}}function p(e,t){return t&&("object"===s(t)||"function"==typeof t)?t:g(e)}function g(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function v(e){return v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},v(e)}function f(e){"@babel/helpers - typeof";return f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f(e)}function b(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function S(e,t){for(var o,a=0;a<t.length;a++)o=t[a],o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}function T(e,t,o){return t&&S(e.prototype,t),o&&S(e,o),e}function E(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&P(e,t)}function P(e,t){return P=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},P(e,t)}function k(e){var t=I();return function(){var o,a=M(e);if(t){var i=M(this).constructor;o=Reflect.construct(a,arguments,i)}else o=a.apply(this,arguments);return C(this,o)}}function C(e,t){return t&&("object"===f(t)||"function"==typeof t)?t:O(e)}function O(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function I(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function M(e){return M=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},M(e)}function w(e,t){return A(e)||B(e,t)||_(e,t)||L()}function L(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _(e,t){if(e){if("string"==typeof e)return D(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?D(e,t):void 0}}function D(e,t){(null==t||t>e.length)&&(t=e.length);for(var o=0,a=Array(t);o<t;o++)a[o]=e[o];return a}function B(e,t){var o=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var a,i,n=[],s=!0,r=!1;try{for(o=o.call(e);!(s=(a=o.next()).done)&&(n.push(a.value),!(t&&n.length===t));s=!0);}catch(e){r=!0,i=e}finally{try{s||null==o["return"]||o["return"]()}finally{if(r)throw i}}return n}}function A(e){if(Array.isArray(e))return e}function U(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function G(e,t){for(var o,a=0;a<t.length;a++)o=t[a],o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}function F(e,t,o){return t&&G(e.prototype,t),o&&G(e,o),e}var R=Math.PI,H=Math.floor,V=Math.max,W=Math.abs;o.r(t);var N=o("WQPq"),X=o("IT9u"),Y=o("E3/K"),j=o("cuij"),q=o("BR65"),J=o("+8Os"),K=o("D10d"),Q=o("LxkE"),Z=o("3+m9"),$=o("TnI4"),ee=o("jtO0"),te=o("g04Y"),oe=o("qdxW"),ae=o("AIox"),ie=o("/V9W"),ne=o("brnI"),se=o("Ncdj"),re=o("XPv6"),le=o("z/o8");class de{constructor(e,t){t=Object.assign({},de.defaults,t),this.element=e,this.opts=t,this.touchStartX=null,this.touchStartY=null,this.touchEndX=null,this.touchEndY=null,this.velocityX=null,this.velocityY=null,this.longPressTimer=null,this.doubleTapWaiting=!1,this.handlers={panstart:[],panmove:[],panend:[],swipeleft:[],swiperight:[],swipeup:[],swipedown:[],tap:[],doubletap:[],longpress:[]},this._onTouchStart=this.onTouchStart.bind(this),this._onTouchMove=this.onTouchMove.bind(this),this._onTouchEnd=this.onTouchEnd.bind(this),this.element.addEventListener("touchstart",this._onTouchStart,ce),this.element.addEventListener("touchmove",this._onTouchMove,ce),this.element.addEventListener("touchend",this._onTouchEnd,ce),this.opts.mouseSupport&&!("ontouchstart"in window)&&(this.element.addEventListener("mousedown",this._onTouchStart,ce),document.addEventListener("mousemove",this._onTouchMove,ce),document.addEventListener("mouseup",this._onTouchEnd,ce))}destroy(){this.element.removeEventListener("touchstart",this._onTouchStart),this.element.removeEventListener("touchmove",this._onTouchMove),this.element.removeEventListener("touchend",this._onTouchEnd),this.element.removeEventListener("mousedown",this._onTouchStart),document.removeEventListener("mousemove",this._onTouchMove),document.removeEventListener("mouseup",this._onTouchEnd),clearTimeout(this.longPressTimer),clearTimeout(this.doubleTapTimer)}on(e,t){if(this.handlers[e])return this.handlers[e].push(t),{type:e,fn:t,cancel:()=>this.off(e,t)}}off(e,t){if(this.handlers[e]){const o=this.handlers[e].indexOf(t);-1!==o&&this.handlers[e].splice(o,1)}}fire(e,t){for(let o=0;o<this.handlers[e].length;o++)this.handlers[e][o](t)}onTouchStart(e){this.thresholdX=this.opts.threshold("x",this),this.thresholdY=this.opts.threshold("y",this),this.disregardVelocityThresholdX=this.opts.disregardVelocityThreshold("x",this),this.disregardVelocityThresholdY=this.opts.disregardVelocityThreshold("y",this),this.touchStartX="mousedown"===e.type?e.screenX:e.changedTouches[0].screenX,this.touchStartY="mousedown"===e.type?e.screenY:e.changedTouches[0].screenY,this.touchMoveX=null,this.touchMoveY=null,this.touchEndX=null,this.touchEndY=null,this.longPressTimer=setTimeout(()=>this.fire("longpress",e),this.opts.longPressTime),this.fire("panstart",e)}onTouchMove(e){if("mousemove"!==e.type||this.touchStartX&&null===this.touchEndX){const t=("mousemove"===e.type?e.screenX:e.changedTouches[0].screenX)-this.touchStartX;this.velocityX=t-this.touchMoveX,this.touchMoveX=t;const o=("mousemove"===e.type?e.screenY:e.changedTouches[0].screenY)-this.touchStartY;this.velocityY=o-this.touchMoveY,this.touchMoveY=o;const a=W(this.touchMoveX),i=W(this.touchMoveY);this.swipingHorizontal=a>this.thresholdX,this.swipingVertical=i>this.thresholdY,this.swipingDirection=a>i?this.swipingHorizontal?"horizontal":"pre-horizontal":this.swipingVertical?"vertical":"pre-vertical",V(a,i)>this.opts.pressThreshold&&clearTimeout(this.longPressTimer),this.fire("panmove",e)}}onTouchEnd(e){if("mouseup"!==e.type||this.touchStartX&&null===this.touchEndX){this.touchEndX="mouseup"===e.type?e.screenX:e.changedTouches[0].screenX,this.touchEndY="mouseup"===e.type?e.screenY:e.changedTouches[0].screenY,this.fire("panend",e),clearTimeout(this.longPressTimer);const t=this.touchEndX-this.touchStartX,o=W(t),a=this.touchEndY-this.touchStartY,i=W(a);o>this.thresholdX||i>this.thresholdY?(this.swipedHorizontal=this.opts.diagonalSwipes?W(t/a)<=this.opts.diagonalLimit:o>=i&&o>this.thresholdX,this.swipedVertical=this.opts.diagonalSwipes?W(a/t)<=this.opts.diagonalLimit:i>o&&i>this.thresholdY,this.swipedHorizontal&&(0>t?(this.velocityX<-this.opts.velocityThreshold||t<-this.disregardVelocityThresholdX)&&this.fire("swipeleft",e):(this.velocityX>this.opts.velocityThreshold||t>this.disregardVelocityThresholdX)&&this.fire("swiperight",e)),this.swipedVertical&&(0>a?(this.velocityY<-this.opts.velocityThreshold||a<-this.disregardVelocityThresholdY)&&this.fire("swipeup",e):(this.velocityY>this.opts.velocityThreshold||a>this.disregardVelocityThresholdY)&&this.fire("swipedown",e))):o<this.opts.pressThreshold&&i<this.opts.pressThreshold&&(this.doubleTapWaiting?(this.doubleTapWaiting=!1,clearTimeout(this.doubleTapTimer),this.fire("doubletap",e)):(this.doubleTapWaiting=!0,this.doubleTapTimer=setTimeout(()=>this.doubleTapWaiting=!1,this.opts.doubleTapTime),this.fire("tap",e)))}}}de.defaults={threshold:(e)=>V(25,H(.15*("x"===e?window.innerWidth||document.body.clientWidth:window.innerHeight||document.body.clientHeight))),velocityThreshold:10,disregardVelocityThreshold:(e,t)=>H(.5*("x"===e?t.element.clientWidth:t.element.clientHeight)),pressThreshold:8,diagonalSwipes:!1,diagonalLimit:Math.tan(45*1.5/180*R),longPressTime:500,doubleTapTime:300,mouseSupport:!0};let ce=!1;try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:function(){ce={passive:!0}}}))}catch(e){}var ue=o("xC2a"),me=o("5X7i"),pe=o("EpSA"),ge=o("e/Nn"),he=o("6deg"),ye=function(e,t){var o=e.length,a=0;return Promise.all(e.map(function(e){return e.then(function(){a++,t(a,o)})["catch"](function(e){console.log(e)}),e}))},ve=function(){function e(t){a(this,e),this.isMobile=t,this.assets={audio:{},videos:{},textures:{},fonts:{}},this.assetList={},this.renderer=null,this.progressEl=document.querySelector(".progress-percent"),this.progressBar=document.querySelector(".progress-circle .line"),this.videosToLoad=0}return n(e,[{key:"load",value:function(e,t,o){var a=this;this.assetList=e,this.renderer=o;var n=[],s=new ue.a;s.crossOrigin="";var r=new me.a,l=!0,d=function(e){a.assetList[e].forEach(function(o){if(/\.(mp3|wav)$/i.test(o))n.push(new Promise(function(t){r.load("music/".concat(o),function(o){a.assets.audio[e]||(a.assets.audio[e]={}),a.assets.audio[e].background_music=o,t(o)})}));else if(~o.indexOf(".mp4")){var i,l=document.createElement("video");l.style="position:absolute;height:0",l.muted=!0,l.volume=null!==(i=t[e][o].volume)&&void 0!==i?i:.2,l.autoplay=!1,l.loop=!0,l.crossOrigin="anonymous",l.preload="metadata",l.src="assets/".concat(e,"/").concat(o),l.setAttribute("webkit-playsinline",!0),l.setAttribute("playsinline",!0),document.body.appendChild(l),l.load(),n.push(new Promise(function(t){a.videoPromise(l,e,o,t)}))}else n.push(new Promise(function(t){s.load("assets/".concat(e,"/").concat(o),function(i){return a.createImageTexture(i,e,o,t)})}))})};for(var c in this.assetList)d(c);for(var u=new pe.a,m=["fonts/schnyder.json","fonts/schnyder-outline.json","fonts/suisse-bold.json","fonts/suisse-regular.json","fonts/bruh_outline.json","fonts/icons.json"],p=function(e){n.push(new Promise(function(t){return u.load(m[e],function(e){a.assets.fonts[e.data.familyName]=e,t()})}))},g=0;g<m.length;g++)p(g);return new Promise(function(e){ye(n,a.update.bind(a)).then(function(){e(a.assets)})})}},{key:"update",value:function(e,t){var o=Math.round(100*(e/t));this.progressEl.innerHTML=o+"%",this.progressBar.style.strokeDashoffset=252.363-252.363*(e/t)}},{key:"videoPromise",value:function(e,t,o,a,i){var n=this;i&&e.load(),this.isMobile?(e.onloadeddata=function(){e.onerror=null,n.createVideoTexture(e,t,o,a)},e.onerror=function(){e.onloadeddata=null,n.videoPromise(e,t,o,a,!0)}):e.oncanplaythrough=function(){return n.createVideoTexture(e,t,o,a)}}},{key:"createImageTexture",value:function(e,t,o,a){var i=this;if(a)e.size=new $.a(e.image.width/2,e.image.height/2),e.needsUpdate=!0,this.renderer.setTexture2D(e,0),e.name="".concat(t,"/").concat(o),e.mediaType="image",e.anisotropy=this.renderer.capabilities.getMaxAnisotropy(),this.assets.textures[t]||(this.assets.textures[t]={}),this.assets.textures[t][o]=e,a(e);else{var n=new ue.a().load("assets/".concat(t,"/").concat(o),function(e){e.size=new $.a(e.image.width/2,e.image.height/2),e.needsUpdate=!0,i.renderer.setTexture2D(e,0)});n.size=new $.a(10,10),n.name="".concat(t,"/").concat(o),n.mediaType="image",n.anisotropy=this.renderer.capabilities.getMaxAnisotropy(),this.assets.textures[t]||(this.assets.textures[t]={}),this.assets.textures[t][o]=n}}},{key:"createVideoTexture",value:function(e,t,o,a){var i=new ge.a(e);i.minFilter=i.magFilter=he.M,i.name="".concat(t,"/").concat(o),i.mediaType="video",i.anisotropy=this.renderer.capabilities.getMaxAnisotropy(),a?(i.size=new $.a("modern"===t?i.image.videoWidth/2:i.image.videoWidth,"modern"===t?i.image.videoHeight/2:i.image.videoHeight),this.renderer.setTexture2D(i,0),this.isMobile?(e.src="",e.load(),e.onloadeddata=null):e.oncanplaythrough=null,a(i)):(i.size=new $.a(1,1),e.oncanplaythrough=function(){i.size=new $.a("modern"===t?i.image.videoWidth/2:i.image.videoWidth,"modern"===t?i.image.videoHeight/2:i.image.videoHeight),i.needsUpdate=!0,e.oncanplaythrough=null}),this.assets.textures[t]||(this.assets.textures[t]={}),this.assets.textures[t][o]=i,this.assets.videos[t]||(this.assets.videos[t]={}),this.assets.videos[t][o]=e}}]),e}(),fe=o("dt5g"),be=o("w+kJ"),xe=o("9odl"),Se=o.n(xe),Te=o("Li5z"),Ee=o.n(Te),Pe=function(e){function t(){var e,a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{assetId:assetId,timeline:timeline,texture:texture,data:data,page:page,itemIndex:itemIndex,itemIndexTotal:itemIndexTotal,x:x,y:y,z:z};return r(this,t),e=o.call(this),Object.assign(g(e),a),e.isText=!1,e.create(),e}c(t,e);var o=m(t);return d(t,[{key:"create",value:function(){var e,t,o,a,i,n,s=this;this.uniforms={time:{type:"f",value:1},fogColor:{type:"c",value:this.timeline.scene.fog.color},fogNear:{type:"f",value:this.timeline.scene.fog.near},fogFar:{type:"f",value:this.timeline.scene.fog.far},texture:{type:"t",value:this.texture},opacity:{type:"f",value:1},progress:{type:"f",value:0},gradientColor:{type:"vec3",value:new j.a(1786584)}},this.geometry=new re.b(1,1),this.material=new fe.a({uniforms:this.uniforms,fragmentShader:Se.a,vertexShader:Ee.a,fog:!0,transparent:!0}),this.mesh=new se.a(this.geometry,this.material),this.mesh.scale.set(this.texture.size.x,this.texture.size.y,1),this.texture.onUpdate=function(){s.mesh.scale.x!==s.texture.size.x&&s.mesh.scale.y!==s.texture.size.y&&(s.mesh.scale.set(s.texture.size.x,s.texture.size.y,1),s.texture.onUpdate=null)};var r=(null!==(e=this.itemIndexTotal)&&void 0!==e?e:0)%4,l=new $.a;0==r&&l.set(-350,350),1==r&&l.set(350,350),2==r&&l.set(350,-350),3==r&&l.set(-350,-350),this.align=r,this.position.set(null!==(t=this.x)&&void 0!==t?t:l.x,null!==(o=this.y)&&void 0!==o?o:l.y,null!==(a=this.z)&&void 0!==a?a:-300*this.itemIndex-200),this.origPos=new $.a(null!==(i=this.x)&&void 0!==i?i:l.x,null!==(n=this.y)&&void 0!==n?n:l.y),this.openPos=new $.a(0,0),this.add(this.mesh),this.addCaption(),this.timeline.itemMeshes.push(this.mesh),"video"===this.texture.mediaType&&this.timeline.videoItems.push(this.mesh)}},{key:"addCaption",value:function(){if((""!==this.data.caption||""!==this.data.link)&&""!==this.data.caption){var e=new ne.a(this.data.caption,{font:this.timeline.assets.fonts["SuisseIntl-Bold"],size:18,height:0,curveSegments:4}).center();this.caption=new se.a(e,this.timeline.captionTextMat);this.caption.position.set(0,-(this.mesh.scale.y/2+25),0),this.caption.visible=!1,this.add(this.caption)}}}]),t}(oe.a),ke=function(e){function t(){var e,a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{assetId:assetId,timeline:timeline,texture:texture,data:data,page:page,itemIndex:itemIndex,itemIndexTotal:itemIndexTotal,x:x,y:y,z:z,video:video};return r(this,t),e=o.call(this),Object.assign(g(e),a),e.isText=!1,e.create(),e}c(t,e);var o=m(t);return d(t,[{key:"create",value:function(){var e,t,o,a,i,n,s=this;this.uniforms={time:{type:"f",value:1},fogColor:{type:"c",value:this.timeline.scene.fog.color},fogNear:{type:"f",value:this.timeline.scene.fog.near},fogFar:{type:"f",value:this.timeline.scene.fog.far},texture:{type:"t",value:this.texture},opacity:{type:"f",value:1},progress:{type:"f",value:0},gradientColor:{type:"vec3",value:new j.a(1786584)}},this.geometry=new re.b(1,1),this.material=new fe.a({uniforms:this.uniforms,fragmentShader:Se.a,vertexShader:Ee.a,fog:!0,transparent:!0}),this.mesh=new se.a(this.geometry,this.material),this.mesh.scale.set(this.texture.size.x,this.texture.size.y,1),this.texture.onUpdate=function(){s.mesh.scale.x!==s.texture.size.x&&s.mesh.scale.y!==s.texture.size.y&&(s.mesh.scale.set(s.texture.size.x,s.texture.size.y,1),s.texture.onUpdate=null)};var r=(null!==(e=this.itemIndexTotal)&&void 0!==e?e:0)%4,l=new $.a;0==r&&l.set(-350,350),1==r&&l.set(350,350),2==r&&l.set(350,-350),3==r&&l.set(-350,-350),this.align=r,this.position.set(null!==(t=this.x)&&void 0!==t?t:l.x,null!==(o=this.y)&&void 0!==o?o:l.y,null!==(a=this.z)&&void 0!==a?a:-300*this.itemIndex-200),this.origPos=new $.a(null!==(i=this.x)&&void 0!==i?i:l.x,null!==(n=this.y)&&void 0!==n?n:l.y),this.openPos=new $.a(0,0),this.add(this.mesh),this.addCaption(),this.timeline.itemMeshes.push(this.mesh),"video"===this.texture.mediaType&&this.timeline.videoItems.push(this.mesh)}},{key:"addCaption",value:function(){if(this.data.caption){var e=new ne.a(this.data.caption,{font:this.timeline.assets.fonts["SuisseIntl-Bold"],size:18,height:0,curveSegments:4}).center();this.caption=new se.a(e,this.timeline.captionTextMat);this.caption.position.set(0,-(this.mesh.scale.y/2+25),0),this.caption.visible=!1,this.add(this.caption)}if(this.data.content){var t=new ne.a(this.data.content,{font:this.timeline.assets.fonts["Suisse Intl"],size:14,height:0,curveSegments:4}).center();this.content=new se.a(t,this.timeline.captionTextMat);this.content.position.set(0,-(this.mesh.scale.y/2+75),0),this.content.visible=!1,this.add(this.content)}}}]),t}(oe.a),Ce=function(e){function t(){var e,a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{timeline:timeline,text:text,font:font,size:size,data:data,page:page,x:x,y:y,z:z,isFancy:isFancy};return r(this,t),e=o.call(this),Object.assign(g(e),a),e.isText=!0,e.create(),e}c(t,e);var o=m(t);return d(t,[{key:"create",value:function(){var e;this.uniforms={time:{type:"f",value:1},fogColor:{type:"c",value:this.timeline.scene.fog.color},fogNear:{type:"f",value:this.timeline.scene.fog.near},fogFar:{type:"f",value:this.timeline.scene.fog.far},opacity:{type:"f",value:1},progress:{type:"f",value:0},gradientColor:{type:"vec3",value:new j.a(1786584)}};var t=new ne.a(this.text,{font:this.timeline.assets.fonts[this.font],size:this.size,height:0,curveSegments:null!==(e=this.segments)&&void 0!==e?e:6}).center(),o=new be.a;t.boundingBox.getSize(o);var a=new se.a(t,this.timeline.textItemMat);if(this.add(a),this.geometry=new re.a(1,1),this.material=new ae.a({alphaTest:0,visible:!1}),this.mesh=new se.a(this.geometry,this.material),this.mesh.scale.set(o.x,this.isFancy?o.y+250:o.y,1),this.isFancy){this.mesh.position.set(0,-100,0);var i=new se.a(new re.a(o.x,1),this.timeline.textItemUnderlineMat);i.position.set(0,-40,10),this.add(i)}this.position.set(this.x,this.y,this.z),this.origPos=new be.a(this.x,this.y,this.z),this.add(this.mesh),this.addCaption(),this.timeline.itemMeshes.push(this.mesh)}},{key:"addCaption",value:function(){if(this.data&&(""!==this.data.caption||""!==this.data.link)&&""!==this.data.caption){var e=new ne.a(this.data.caption,{font:this.timeline.assets.fonts[this.isFancy?"Schnyder L":"SuisseIntl-Bold"],size:18,height:0,curveSegments:4}).center();this.caption=new se.a(e,this.timeline.captionTextMat);var t=new be.a;e.boundingBox.getSize(t),this.caption.position.set(0,-t.y/2-75,0),this.caption.visible=!1,this.add(this.caption)}}}]),t}(oe.a),Oe=function(e){function t(){var e,a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{timeline:timeline,section:section};switch(b(this,t),e=o.call(this),Object.assign(O(e),a),e.section){case"bibliography":{e.createBibliographySection();break}case"intro":{e.createIntroSection();break}case"background":{e.createBackgroundSection();break}case"baby":{e.createBabySection();break}case"arcade":{e.createArcadeSection();break}case"consoles":{e.createConsolesSection();break}case"sampling":{e.createSamplingSection();break}case"midi":{e.createMIDISection();break}case"cd":{e.createCdSection();break}case"dynamic":{e.createDynamicSection();break}case"modern":{e.createModernSection();break}case"end":{e.createEndSection();break}default:{e.addTitle("burh");break}}return e}E(t,e);var o=k(t);return T(t,[{key:"addTitle",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null,o=new ne.a(e,{font:this.timeline.assets.fonts["Schnyder L"],size:100,height:0,curveSegments:10}).center(),a=new se.a(o,this.timeline.textMat);a.position.set(this.timeline.pages[this.section].offset||0,null!==t&&void 0!==t?t:0,0),this.add(a)}},{key:"addSubtitle",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null,o=new ne.a(e,{font:this.timeline.assets.fonts["SuisseIntl-Bold"],size:50,height:0,curveSegments:10}).center(),a=new se.a(o,this.timeline.textMat);a.position.set(this.timeline.pages[this.section].offset||0,null!==t&&void 0!==t?t:-100,0),this.add(a)}},{key:"addEra",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null,o=new ne.a(e,{font:this.timeline.assets.fonts["Schnyder L"],size:40,height:0,curveSegments:10}).center(),a=new se.a(o,this.timeline.textMat);a.position.set(this.timeline.pages[this.section].offset||0,null!==t&&void 0!==t?t:-250,0),this.add(a)}},{key:"addLinkBox",value:function(e){var t=new se.a(new re.a(e.size,e.size),new ae.a({alphaTest:0,visible:!1}));t.position.set(e.x,e.y,e.z),t.onClick=e.onClick,this.add(t)}},{key:"addText",value:function(e){var t,o=new ne.a(e.text,{font:this.timeline.assets.fonts[e.font],size:e.size,height:0,curveSegments:null!==(t=e.segments)&&void 0!==t?t:6}).center(),a=new se.a(o,this.timeline.textMat);a.position.set(e.x,e.y,e.z),this.add(a)}},{key:"addImage",value:function(e){var t=new ue.a().load(e.file);t.magFilter=t.minFilter=he.M;var o=new ae.a({map:t,transparent:!0}),a=new re.b(1,1),i=new se.a(a,o);i.scale.set(e.scalex,e.scaley,e.scalez),i.position.set(e.x,e.y,e.z),this.add(i)}},{key:"addVids",value:function(){var e,t=this,o=0;this.timeline.assetList[this.section].forEach(function(a){~a.indexOf(".mp3")||(e="".concat(t.section,"/").concat(a),t.timeline.items[e]=new ke({assetId:e,timeline:t.timeline,texture:t.timeline.assets.textures[t.section][a],video:t.timeline.assets.videos[t.section][a],data:t.timeline.assetData[t.section][a],page:t.section,itemIndex:o,itemIndexTotal:o}),t.add(t.timeline.items[e]),o++)})}},{key:"createIntroSection",value:function(){this.addImage({file:"assets/intro/Pokemon+Music.png",scalex:1200,scaley:800,scalez:1,x:0,y:0,z:-500}),this.addText({text:"EXPLORE\nVIDEO GAME HISTORY\nTHROUGH MUSIC\n& SOUND",font:"SuisseIntl-Bold",size:60,x:0,y:0,z:0}),this.addIntroBadge()}},{key:"addIntroBadge",value:function(){this.badge=new oe.a;var e=new ne.b("Scroll or hold to advance.",{font:this.timeline.assets.fonts["Schnyder L"],size:26,height:0,curveSegments:6});e.center();var t=new se.a(e,this.timeline.textMat);t.position.set(0,0,1),this.badge.add(t),this.badge.position.set(0,0,50),this.badge.position.y=600>this.timeline.c.size.w?-this.timeline.c.size.h+90:-this.timeline.c.size.h/2+90,600>this.timeline.c.size.w&&this.badge.scale.set(1.5,1.5,1),this.add(this.badge)}},{key:"createBackgroundSection",value:function(){this.addTitle("BACKGROUND"),this.addText({text:"The music and sounds of video games enhance gameplay immensely,\nand are often the most memorable aspects of our favorite games!\nHowever, early video games were limited to the simple sounds \nof programmable sound generator chips.",font:"SuisseIntl-Bold",size:26,x:0,y:0,z:-800}),this.addText({text:"So how did we get from the simple beeps and bloops of early games \nto the dynamic and complex soundtracks of modern games?\nKeep scrolling to find out!",font:"SuisseIntl-Bold",size:26,x:0,y:0,z:-1700})}},{key:"createBabySection",value:function(){this.addTitle("BABY STEPS"),this.addSubtitle("When sound was first",-150),this.addSubtitle("introduced to video games.",-250),this.addEra("The '70s",-350),this.addText({text:"\nThe first time sound was added to video games was in 1972 with Pong.\nClick a video to listen and learn more!",font:"Suisse Intl",size:26,x:0,y:0,z:-700}),this.addVids()}},{key:"createArcadeSection",value:function(){this.addTitle("ARCADE ERA"),this.addSubtitle("A glorious cacophany.",-150),this.addEra("1980-1985"),this.addText({text:"Lorem ipsum dolor sit amet, consectetur adipiscing elit.\nVestibulum aliquam imperdiet risus, ut condimentum velit ultricies eu.\nPraesent auctor bibendum dui non pharetra.\nInteger luctus, metus nec fringilla consectetur,\nleo sem lacinia dolor, quis iaculis lectus diam eget nisi.",font:"SuisseIntl-Bold",size:26,x:0,y:0,z:-700}),this.addVids()}},{key:"createConsolesSection",value:function(){this.addTitle("ADVENT OF HOME CONSOLES"),this.addSubtitle("NES FTW.",-150),this.addEra("1983-1985"),this.addText({text:"Lorem ipsum dolor sit amet, consectetur adipiscing elit.\nVestibulum aliquam imperdiet risus, ut condimentum velit ultricies eu.\nPraesent auctor bibendum dui non pharetra.\nInteger luctus, metus nec fringilla consectetur,\nleo sem lacinia dolor, quis iaculis lectus diam eget nisi.",font:"SuisseIntl-Bold",size:26,x:0,y:0,z:-700}),this.addVids()}},{key:"createSamplingSection",value:function(){this.addTitle("FM SYNTHESIS & SAMPLING"),this.addSubtitle("80s, synths, and long hair.",-150),this.addEra("1984-1990"),this.addText({text:"Lorem ipsum dolor sit amet, consectetur adipiscing elit.\nVestibulum aliquam imperdiet risus, ut condimentum velit ultricies eu.\nPraesent auctor bibendum dui non pharetra.\nInteger luctus, metus nec fringilla consectetur,\nleo sem lacinia dolor, quis iaculis lectus diam eget nisi.",font:"SuisseIntl-Bold",size:26,x:0,y:0,z:-700}),this.addVids()}},{key:"createMIDISection",value:function(){this.addTitle("SOUND CARDS & MIDI"),this.addSubtitle("Big leaps.",-150),this.addEra("1990-1993"),this.addText({text:"Lorem ipsum dolor sit amet, consectetur adipiscing elit.\nVestibulum aliquam imperdiet risus, ut condimentum velit ultricies eu.\nPraesent auctor bibendum dui non pharetra.\nInteger luctus, metus nec fringilla consectetur,\nleo sem lacinia dolor, quis iaculis lectus diam eget nisi.",font:"SuisseIntl-Bold",size:26,x:0,y:0,z:-700}),this.addVids()}},{key:"createCdSection",value:function(){this.addTitle("CD AUDIO & MP3"),this.addSubtitle("Changed the game.",-150),this.addEra("1993-2000"),this.addText({text:"Lorem ipsum dolor sit amet, consectetur adipiscing elit.\nVestibulum aliquam imperdiet risus, ut condimentum velit ultricies eu.\nPraesent auctor bibendum dui non pharetra.\nInteger luctus, metus nec fringilla consectetur,\nleo sem lacinia dolor, quis iaculis lectus diam eget nisi.",font:"SuisseIntl-Bold",size:26,x:0,y:0,z:-700}),this.addVids()}},{key:"createModernSection",value:function(){this.addTitle("MODERN GAME AUDIO"),this.addSubtitle("Look how far we've come!",-150),this.addEra("Unkown-Present"),this.addText({text:"Lorem ipsum dolor sit amet, consectetur adipiscing elit.\nVestibulum aliquam imperdiet risus, ut condimentum velit ultricies eu.\nPraesent auctor bibendum dui non pharetra.\nInteger luctus, metus nec fringilla consectetur,\nleo sem lacinia dolor, quis iaculis lectus diam eget nisi.",font:"SuisseIntl-Bold",size:26,x:0,y:0,z:-700}),this.addVids()}},{key:"createEndSection",value:function(){this.addText({text:"THANKS FOR STOPPING BY",font:"SuisseIntl-Bold",size:60,x:0,y:50,z:0}),this.addText({text:"HOPE YOU LEARNED",font:"SuisseIntl-Bold",size:35,x:0,y:-50,z:0}),this.addText({text:"SOMETHING NEW!",font:"SuisseIntl-Bold",size:35,x:0,y:-100,z:0}),this.addText({text:"E",font:"icons",size:580,x:0,y:0,z:-525,segments:15}),this.addWhooshButton()}},{key:"addWhooshButton",value:function(){this.whoosh=new oe.a;var e=new ue.a().load("images/whoooosh.png");e.magFilter=e.minFilter=he.M;var t=new ae.a({map:e,transparent:!0,depthWrite:!1}),o=new re.b(1,1);this.circle=new se.a(o,t),this.circle.scale.set(200,200,1),this.whoosh.add(this.circle);var a=new ue.a().load("images/arrowdown.png");a.anisotropy=this.timeline.renderer.capabilities.getMaxAnisotropy(),a.magFilter=a.minFilter=he.M;var i=new ae.a({map:a,transparent:!0,side:he.v,depthWrite:!1}),n=new re.b(1,1);this.arrow=new se.a(n,i),this.arrow.scale.set(90,90,1),this.arrow.position.z=20,this.whoosh.add(this.arrow),this.whoosh.position.set(0,-450,50),600>this.timeline.c.size.w&&this.whoosh.scale.set(1.5,1.5,1),this.add(this.whoosh)}},{key:"createBibliographySection",value:function(){this.position.set(0,2e3/this.timeline.scene.scale.y,0),this.visible=!1,this.linkBox=new se.a(new re.a(612,792),new ae.a({alphaTest:0,visible:!1})),this.linkBox.position.set(0,0,1),this.linkBox.onClick=function(){},this.add(this.linkBox)}}]),t}(oe.a),Ie=o("P3Nu"),Me=o.n(Ie),we={intro:{textColor:1786584,outlineTextColor:1786584,bgColor:11454403,tintColor:1786584},background:{textColor:1786584,bgColor:15913161,tintColor:1786584,contactColor:1648473},baby:{textColor:16609107,bgColor:75060,tintColor:75060},arcade:{textColor:16487268,bgColor:2906018,tintColor:3561373},consoles:{textColor:16240510,bgColor:4360324,tintColor:4360324},sampling:{textColor:12342,bgColor:2656148,tintColor:4621970},midi:{textColor:16175858,bgColor:2646612,tintColor:3694933},cd:{textColor:13270640,bgColor:4344933,tintColor:4476003},modern:{textColor:16230672,bgColor:5347496,tintColor:3961988},end:{textColor:15566236,outlineTextColor:12170472,bgColor:4286563,tintColor:12170472}},ze=void 0,Le={intro:{"Pokemon Platinum - Jubilife City.mp3":ze},background:{"1-07 Lake.mp3":ze},baby:{"Arcade Game - Pong (1972 Atari) [Re-Uploaded].mp3":ze,"Pong-360p.mp4":{caption:"Pong (Arcade, 1972)",content:"Pong was the first video game to incorporate sound."},"Arcade Game - Gun Fight.mp4":{caption:"Gun Fight (Arcade, 1975)"},"Arcade Longplay - Breakout.mp4":{caption:"Breakout (Arcade, 1976)"},"Space Invaders.mp4":{caption:"Space Invaders (Arcade, 1978)"}},arcade:{"Pac-man theme remix - By Arsenic1987.mp3":ze,"Pac-Man Original.mp4":{caption:"Pac-Man (Arcade, 1980)"},"frogger.mp4":{caption:"Frogger (Arcade, 1981)"},"Pole Position.mp4":{caption:"Pole Position (Arcade, 1982)"},"Rally-x.mp4":{caption:"Rally-X (Arcade, 1980)"},"Journey Escape.mp4":{caption:"Journey Escape (Atari 2600, 1982)"},"Gyruss.mp4":{caption:"Gyruss (Arcade, 1983)",volume:.5}},consoles:{"Super Mario Bros. Original Theme by Nintendo.mp3":ze,"mariobro_Trim.mp4":{caption:"Super Mario Bros. (Famicon/NES, 1985)"},"Final Fantasy NES Solo White Mage.mp4":{caption:"Final Fantasy (NES, 1987)"},"[c64] Sanxion (1986)-WDg1GX37bkU_Trim.mp4":{caption:"Sanxion (Commodore 64, 1986)"},"Commando (C64) gameplay.mp4":{caption:"Commando (Commodore 64, 1985)"},"Super Nintendo - Donkey Kong Country (Part 1_40 Jungle Hijinxs!)-DoaaAuLmGyU_Trim.mp4":{caption:"Donkey Kong Country (SNES, 1994)",volume:.5},"Pokemon Blue (GB _ Game Boy) - Vizzed.com GamePlay-cnEOLsf-2bM_Trim.mp4":{caption:"Pok\xE9mon Red/Blue (Game Boy, 1996)"}},sampling:{"PASSING BREEZE (Out Run).mp3":ze,"../arcade/Gyruss.mp4":{caption:"Gyruss (Arcade, 1983)"},"Arcade Longplay [519] Marble Madness-XzlA1JTPMto_Trim.mp4":{caption:"Marble Madness (Arcade, 1984)"},"1987 Outrun Passing Breeze Arcade Old School Game Playthrough  Retro Game-hMv0Pg1AxFc_Trim.mp4":{caption:"Out Run (Arcade, 1986)"},"linktothepast.mp4":{caption:"The Legend of Zelda: A Link to the Past (SNES 1991)"},"Ryu Strategy - Defeating Sagat on Hardest Difficulty (Street Fighter 2)-TH5_OuY03Mc.mp4":{caption:"Street Fighter II: The World Warrior (Arcade, 1991)"},"Streets of Rage 2 - Stage 7 (Axel, Hard)-8Tt9OtkL6UU_Trim.mp4":{caption:"Streets of Rage 2 (Sega Genesis, 1992)"},"Super Return of the Jedi Boss Battles-v8VKQ9-5oQ8_Trim.mp4":{caption:"Super Star Wars: Return of the Jedi (SNES, 1994)"}},midi:{"Doom E1M1 (Classic Midi Version).mp3":ze,"DOOM - [1993] ... (MS-DOS_PC) Gameplay-oJXjR49NU6E_Trim.mp4":{caption:"Doom (MS-DOS, 1993)"},"Castle of Dr. Brain - video game Loop Demo (MT-32 music) PC MS-DOS, 1991-75hpsc8wOaU_Trim.mp4":{caption:"Castle of Dr. Brain (Amiga/MS-DOS, 1991)",volume:.5},"Monkey Island 2 Lechuck's Revenge - Intro_Opening FR (Roland MT-32) PC MS-DOS Game, 1991-QN_LFCjv0Vo_Trim.mp4":{caption:"Monkey Island 2: LeChuck's Revenge (Amiga, 1991)"},"Day Of The Tentacle - Loop Demo -  MT32 Music (1993, DOS, ENG)-EYgi_D8uyTQ_Trim.mp4":{caption:"Day of the Tentacle (MS-DOS, 1993)"}},cd:{"Final Fantasy VII - One Winged Angel [HQ].mp3":ze,"Final Fantasy 7 ... (PS1) Gameplay-Ha9N-I_3aIc_Trim.mp4":{caption:"Final Fantasy VII (PlayStation, 1997)"},"Ys Book II Intro Turbografx CD-5a0GVtsK7nU_Trim.mp4":{caption:"Ys I & II (TurboGrafx-CD, 1989)"},"Castlevania - Symphony of the Night (PS1) - Part 2-pfz8mLTG9Ok_Trim.mp4":{caption:"Castlevania: Symphony of the Night (PlayStation, 1997)",volume:.5},"gta ps1-02kMHWKaMg8_Trim.mp4":{caption:"Grand Theft Auto (MS-DOS/PlayStation, 1997)"},"Dance Dance Revolution USA PSX (2001)-I588xfrafCM_Trim.mp4":{caption:"Dance Dance Revolution (Arcade/PlayStation, 1998/1999)",volume:.5},"Pokémon Diamond (NDS) - Longplay Part 1_2-D4O77H95aTg_Trim.mp4":{caption:"Pok\xE9mon Diamond and Pearl (Nintendo DS, 2006)"}},modern:{"Destiny 2 - Beyond Light Original Soundtrack - Track 06 - Deep Stone Lullaby.mp3":ze,"Halo CE Anniversary Mission 4- The Silent Cartographer (No Commentary)-wR86Wda59VI_Trim.mp4":{caption:"Halo: Combat Evolved [Anniversary] (Xbox, 2001)"},"The moment I fell in love with the Deep Stone Crypt Raid-ClSL0c4043s_Trim.mp4":{caption:"Destiny 2 (PC/PS4/Xbox One, 2017)"},"GTA 5 Radio Station Pack - Liberty Rock Radio, V-ROCK, K-DST, K-ROSE, Radio X, L.C.H.C, Tuff Gong-k0HNxHS_UUY_Trim.mp4":{caption:"Grand Theft Auto V (PS3/Xbox 360, 2013)",volume:.5},"Breath of the Wild - Switch Exploration Gameplay. No commentary-jc9buqCEVRw_Trim.mp4":{caption:"The Legend of Zelda: Breath of the Wild (Nintendo Switch/Wii U, 2017)"},"[Undertale] Sans' boss fight - Genocide Run-Vr4IYjeplJA_Trim.mp4":{caption:"Undertale (PC, 2015)",volume:.5},"Cuphead Gameplay No Commentary - 8 Minutes of Inkwell Isle (Direct Feed)-5Yuh40ywJIE_Trim.mp4":{caption:"Cuphead (PC/Xbox One, 2017)",volume:.5},"GRIS - 10 Minutes of Gameplay (No Commentary)-2WMxpRnO5w0_Trim.mp4":{caption:"Gris (PC/MacOS/Nintendo Switch, 2018)"}},end:{"Pokemon Platinum - Jubilife City.mp3":ze}},_e=function(){function e(){U(this,e),this.setConfig(),this.init(),window.assets?(console.log("cached assets"),this.assets=window.assets,this.createTimeline()):(this.loadAssets(),console.log("reload assets"))}var t=Math.atan;return F(e,[{key:"setConfig",value:function(){this.dom={cursor:document.querySelector(".cursor"),compass:document.querySelector(".compass"),compassSvg:document.querySelector(".compass svg"),mainSvgs:document.querySelectorAll("main :not(.compass) svg"),cursorSvgs:document.querySelectorAll(".cursor svg")},this.c={dpr:2<=window.devicePixelRatio?2:1,startTime:Date.now(),size:{w:window.innerWidth,h:window.innerHeight},scrollPos:0,scrolling:!1,allowScrolling:!0,autoMoveSpeed:0,isMobile:this.isMobile(),holdingMouseDown:!1,touchEnabled:"ontouchstart"in window},this.c.globalScale=Math.min(1,this.c.size.w/1400),this.c.touchEnabled?document.documentElement.classList.add("touch-enabled"):document.documentElement.classList.add("enable-cursor"),this.assetList=Object.fromEntries(Object.entries(Le).map(function(e){var t=w(e,2),o=t[0],a=t[1];return[o,Object.keys(a)]})),this.assetData=Le,this.timelineEntered=!1,this.activePage="intro",this.pages=we,this.pagePositions={},this.remainingPages=[],this.enableLoader=!0,this.gyroEnabled=!1,this.orientation={gamma:0,beta:0},this.isMuted=!1,this.isWhooshing=!1,this.easterEgg=this.easterEgg.bind(this),new Me.a(this.easterEgg),this.easterEggEnabled=!1,this.enableLoader||(document.querySelector(".loading").style.display="none")}},{key:"isMobile",value:function(){var e=navigator.userAgent||navigator.vendor||window.opera;return /(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0,4))}},{key:"loadAssets",value:function(){var e=this,t=new ve(this.c.isMobile);this.enableLoader?setTimeout(function(){t.load(e.assetList,e.assetData,e.renderer).then(function(t){e.assets=t,console.log("ASSETS LOADED"),e.createTimeline()})},2e3):t.load(this.assetList,this.assetData,this.renderer).then(function(t){e.assets=t,console.log("ASSETS LOADED"),e.createTimeline()})}},{key:"init",value:function(){var e=this;this.renderer=new X.a({antialias:!0,alpha:!0}),this.renderer.setPixelRatio(this.c.dpr),this.renderer.setSize(this.c.size.w,this.c.size.h),document.body.appendChild(this.renderer.domElement),this.preventPullToRefresh(),this.scene=new Y.a,this.scene.background=new j.a(11454403),this.scene.fog=new q.a(11454403,900,1600),this.scene.scale.set(this.c.globalScale,this.c.globalScale,1);var o=800,a=180*(2*t(this.c.size.h/2/o))/R;this.camera=new J.a(a,this.c.size.w/this.c.size.h,1,1600),this.camera.position.set(0,this.enableLoader?2e3:0,o),this.raycaster=new K.a,this.raycaster.near=this.camera.near,this.raycaster.far=this.camera.far,this.intersects=[],this.linkIntersect=[],this.whooshIntersects=[],this.frustum=new Q.a,this.cameraViewProjectionMatrix=new Z.a,this.mouse=new $.a,this.mousePerspective=new $.a,this.audioListener=new ee.a,this.camera.add(this.audioListener),this.audio=new te.a(this.audioListener),this.audio.setVolume(.2),this.audio.loop=!0,window.addEventListener("devicemotion",function(t){(t.rotationRate.alpha||t.rotationRate.beta||t.rotationRate.gamma)&&(e.gyroEnabled=!0)})}},{key:"createTimeline",value:function(){this.timeline=new oe.a,this.scene.add(this.timeline),this.textMat=new ae.a({color:1786584,transparent:!0}),this.textItemMat=new ae.a({color:1786584,transparent:!0}),this.textItemUnderlineMat=new ae.a({color:1786584,transparent:!0}),this.captionTextMat=new ae.a({color:1786584,transparent:!0,opacity:0,visible:!1}),this.linkUnderlineMat=new ae.a({color:1786584,transparent:!0,opacity:0,visible:!1}),this.textOutlineMat=new ae.a({color:1786584,transparent:!0}),this.contactTextMat=new ae.a({color:16777215}),this.sections={},this.items={},this.itemMeshes=[],this.videoItems=[];var e=0;for(var t in this.pages){this.sections[t]=new Oe({timeline:timeline,section:t});var o=new ie.a().setFromObject(this.sections[t]);this.sections[t].position.z=e,this.pagePositions[t]=e+900;var a=1600;"contact"==t&&(a=1800),e+=o.min.z-a,this.timeline.add(this.sections[t]),"end"==t&&(this.stopScrollPos=this.sections[t].position.z)}this.videoCount=this.videoItems.length,this.bibliographySection=new Oe({timeline:timeline,section:"bibliography"}),this.bibliographySection.visible=!1,this.scene.add(this.bibliographySection),this.linkGroup=new oe.a;var i=new ne.b("SEE MORE",{font:this.assets.fonts["SuisseIntl-Bold"],size:6,height:0,curveSegments:4}).center();this.link=new se.a(i,this.captionTextMat),this.linkUnderline=new se.a(new re.a(45,1),this.linkUnderlineMat),this.linkUnderline.position.set(0,-10,0),this.linkBox=new se.a(new re.a(70,20),new ae.a({alphaTest:0,visible:!1})),this.linkGroup.visible=!1,this.linkGroup.add(this.link),this.linkGroup.add(this.linkUnderline),this.linkGroup.add(this.linkBox),this.scene.add(this.linkGroup),console.log("RENDER"),this.initCursorListeners(),this.initListeners(),this.animate(),document.body.classList.add("ready")}},{key:"moveToStart",value:function(){var e=this;this.audio.setBuffer(this.assets.audio.intro.background_music),this.audio.play(),le.a.to(this.camera.position,2,{y:0,ease:"Expo.easeInOut"}),le.a.to(".loading",2,{y:"-100%",ease:"Expo.easeInOut",onComplete:function(){document.querySelector(".loading").style.display="none",e.timelineEntered=!0}}),le.a.to([".bibliography",".logo",".toggle-mute"],2,{y:0,delay:1,ease:"Expo.easeInOut"}),le.a.to([".left",".right"],2,{x:0,delay:1,ease:"Expo.easeInOut"}),this.gyroEnabled&&le.a.to(this.dom.compass,2,{y:0,delay:1,ease:"Expo.easeInOut"})}},{key:"openItem",value:function(e){var t=this;if(this.isMuted||(this.audio.pause(),e.video.muted=!1),this.itemAnimating=!0,this.itemOpen=e,this.origTimelinePos=this.timeline.position.z,this.c.allowScrolling=!1,this.c.isMobile){var o=e.mesh.material.uniforms.texture.value;"video"===o.mediaType&&(o.image.src="assets/"+o.name,o.image.play())}var a=this.sections[this.activePage].position.z;e.page!==this.activePage&&(a=this.sections[this.remainingPages[this.remainingPages.length-2]].position.z);var i=100;e.isText&&(i=100),"about/me.jpg"===e.assetId&&(i=200),le.a.to(e.position,1.5,{x:0,y:i,ease:"Expo.easeInOut",onComplete:function(){t.itemAnimating=!1,t.dom.cursor.dataset.cursor="cross"}}),le.a.to(e.uniforms.progress,1.5,{value:1,ease:"Expo.easeInOut"}),le.a.to(this.timeline.position,1.5,{z:-(a+e.position.z)+(.5>this.c.globalScale?450:300),ease:"Expo.easeInOut"}),le.a.to(this.textMat,1,{opacity:0,ease:"Expo.easeInOut",onComplete:function(){t.textMat.visible=!1}}),le.a.to(this.captionTextMat,2,{opacity:1,ease:"Expo.easeInOut",delay:.3,onStart:function(){t.captionTextMat.visible=!0}}),le.a.to(this.linkUnderlineMat,2,{opacity:.4,ease:"Expo.easeInOut",delay:.3,onStart:function(){t.linkUnderlineMat.visible=!0}}),le.a.to(this.textItemUnderlineMat,2,{opacity:0,ease:"Expo.easeInOut"}),e.caption&&le.a.fromTo(e.caption.position,2,{z:-100},{z:50,delay:.2,ease:"Expo.easeInOut",onStart:function(){e.caption.visible=!0}}),e.content&&le.a.fromTo(e.content.position,2,{z:-100},{z:50,delay:.2,ease:"Expo.easeInOut",onStart:function(){e.content.visible=!0}}),e.data.link&&(this.linkBox.onClick=function(){window.open(e.data.link,"_blank")},this.linkGroup.position.y=e.caption.position.y+45,console.log(e.caption.position.y-20),console.log(-e.mesh.scale.y/2-50),console.log(this.linkGroup.position.y),le.a.fromTo(this.linkGroup.position,2,{z:0},{z:.5>this.c.globalScale?450:300,delay:.3,ease:"Expo.easeInOut",onStart:function(){t.linkGroup.visible=!0}}));var n=new $.a;for(var s in this.items)if(this.items[s]!==e){if(this.items[s].isText){le.a.to(this.items[s].position,1.3,{y:0<this.items[s].origPos.y?1e4:-1e4,ease:"Expo.easeInOut"});continue}0===this.items[s].align&&n.set(-700,700),1===this.items[s].align&&n.set(700,700),2===this.items[s].align&&n.set(700,-700),3===this.items[s].align&&n.set(-700,-700),le.a.to(this.items[s].material.uniforms.opacity,1.3,{value:0,ease:"Expo.easeInOut"}),le.a.to(this.items[s].position,1.3,{x:n.x,y:n.y,ease:"Expo.easeInOut"})}}},{key:"closeItem",value:function(){var e=this;if(!this.itemAnimating&&this.itemOpen){if(this.isMuted||this.audio.play(),this.itemOpen.video.muted=!0,this.itemAnimating=!0,this.dom.cursor.dataset.cursor="pointer",this.c.isMobile){var t=this.itemOpen.mesh.material.uniforms.texture.value;"video"===t.mediaType&&(t.image.pause(),t.image.src="",t.image.load())}for(var o in le.a.to(this.itemOpen.position,1.5,{x:this.itemOpen.origPos.x,y:this.itemOpen.origPos.y,ease:"Expo.easeInOut"}),le.a.to(this.timeline.position,1.5,{z:this.origTimelinePos,ease:"Expo.easeInOut",onComplete:function(){e.c.allowScrolling=!0,e.itemOpen=!1,e.itemAnimating=!1}}),le.a.to(this.itemOpen.uniforms.progress,1.5,{value:0,ease:"Expo.easeInOut"}),le.a.to(this.textMat,1.5,{opacity:1,ease:"Expo.easeInOut",onStart:function(){e.textMat.visible=!0}}),le.a.to(this.textItemUnderlineMat,1.5,{opacity:1,ease:"Expo.easeInOut"}),le.a.to([this.captionTextMat,this.linkUnderlineMat],.4,{opacity:0,ease:"Expo.easeInOut",onComplete:function(){e.captionTextMat.visible=!1,e.linkUnderlineMat.visible=!1,e.itemOpen.caption&&(e.itemOpen.caption.visible=!1),e.linkGroup.visible=!1}}),this.items)if(!this.items[o].active){if(this.items[o].isText){le.a.to(this.items[o].position,1.3,{y:this.items[o].origPos.y,ease:"Expo.easeInOut"});continue}le.a.to(this.items[o].material.uniforms.opacity,1.5,{value:1,ease:"Expo.easeInOut"}),le.a.to(this.items[o].position,1.5,{x:this.items[o].origPos.x,y:this.items[o].origPos.y,ease:"Expo.easeInOut"})}}}},{key:"openBibliography",value:function(t){var e=this;return t.preventDefault(),this.bibliographySection.isOpen?this.closeBibliography():void(this.dom.cursor.dataset.cursor="cross",this.bibliographySection.visible=!0,this.bibliographySection.isOpen=!0,this.c.allowScrolling=!1,this.linkUnderlineMat.visible=!0,this.linkUnderlineMat.opacity=.3,le.a.to(this.camera.position,2,{y:this.bibliographySection.position.y*this.scene.scale.y,ease:"Expo.easeInOut",onComplete:function(){e.timeline.visible=!1}}))}},{key:"closeBibliography",value:function(){var e=this;this.timeline.visible=!0,this.bibliographySection.isOpen=!1,le.a.to(this.camera.position,2,{y:0,ease:"Expo.easeInOut",onComplete:function(){e.bibliographySection.visible=!1,e.c.allowScrolling=!0,e.linkUnderlineMat.visible=!1,e.linkUnderlineMat.opacity=0}})}},{key:"scroll",value:function(t){var e=function(t){return t.detail&&t.wheelDelta?t.wheelDelta/t.detail/40*(0<t.detail?1:-1):t.deltaY?-t.deltaY/60:t.wheelDelta/120}(t);this.c.scrollPos+=60*-e,this.c.scrolling=!0}},{key:"mouseDown",value:function(t){var e=this;t.preventDefault(),t.stopPropagation(),this.easterEggEnabled||(this.c.holdingMouseDown=!0,this.bibliographySection.isOpen?0<this.linkIntersect.length?this.linkIntersect[0].object.onClick&&this.linkIntersect[0].object.onClick():this.closeBibliography():this.itemOpen?0<this.linkIntersect.length?this.linkIntersect[0].object.onClick&&this.linkIntersect[0].object.onClick():this.closeItem():0<this.intersects.length?(this.openItem(this.intersects[0].object.parent),this.dom.cursor.dataset.cursor="cross"):this.hoveringWhoosh?(this.c.scrolling=!0,this.isWhooshing=!0,le.a.to(this.c,4,{scrollPos:0,ease:"Expo.easeInOut",onUpdate:function(){e.c.scrolling=!0}})):(this.dom.cursor.dataset.cursor="move",le.a.to(this.c,.5,{delay:.7,autoMoveSpeed:20})))}},{key:"mouseUp",value:function(){this.itemOpen||(this.dom.cursor.dataset.cursor="pointer"),this.c.holdingMouseDown=!1,le.a.killTweensOf(this.c,{autoMoveSpeed:!0}),this.c.autoMoveSpeed=0}},{key:"mouseMove",value:function(t){this.mousePerspective.x=t.clientX/window.innerWidth-.5,this.mousePerspective.y=t.clientY/window.innerHeight-.5,this.updatingPerspective=!0,this.c.touchEnabled||le.a.to(".cursor",1.5,{x:t.clientX,y:t.clientY,ease:"Power4.easeOut"}),!this.renderer||t.target!==this.renderer.domElement||this.easterEggEnabled||(this.mouse.x=2*(t.clientX/this.renderer.domElement.clientWidth)-1,this.mouse.y=2*-(t.clientY/this.renderer.domElement.clientHeight)+1,this.raycaster.setFromCamera(this.mouse,this.camera),!this.bibliographySection.isOpen&&!this.itemOpen&&!this.c.holdingMouseDown&&("end"===this.activePage?(this.intersects=[],this.whooshIntersects=this.raycaster.intersectObjects(this.sections.end.whoosh.children),0<this.whooshIntersects.length?(this.dom.cursor.dataset.cursor="none",this.hoveringWhoosh=!0,this.sections.end.arrowTween.timeScale(2)):this.hoveringWhoosh&&(this.dom.cursor.dataset.cursor="pointer",this.hoveringWhoosh=!1,this.sections.end.arrowTween.timeScale(1))):(this.intersects=this.raycaster.intersectObjects(this.itemMeshes),0<this.intersects.length?this.dom.cursor.dataset.cursor="eye":"pointer"!==this.dom.cursor.dataset.cursor&&(this.dom.cursor.dataset.cursor="pointer"))),!this.bibliographySection.isOpen&&this.itemOpen&&this.itemOpen.data.link&&(this.linkIntersect=this.raycaster.intersectObject(this.linkBox),0<this.linkIntersect.length?this.dom.cursor.dataset.cursor="eye":"cross"!==this.dom.cursor.dataset.cursor&&(this.dom.cursor.dataset.cursor="cross")),this.bibliographySection.isOpen&&(this.linkIntersect=this.raycaster.intersectObject(this.bibliographySection.linkBox),0<this.linkIntersect.length?this.dom.cursor.dataset.cursor="eye":"cross"!==this.dom.cursor.dataset.cursor&&(this.dom.cursor.dataset.cursor="cross")))}},{key:"updatePerspective",value:function(){le.a.to(this.camera.rotation,4,{x:.5*-this.mousePerspective.y,y:.5*-this.mousePerspective.x,ease:"Power4.easeOut"}),"end"===this.activePage&&le.a.to(this.sections.end.arrow.rotation,4,{x:-1.5+.2*this.mousePerspective.y,y:.8*this.mousePerspective.x,ease:"Power4.easeOut"}),this.updatingPerspective=!1}},{key:"updateOrientation",value:function(t){this.orientation.gamma=t.gamma?t.gamma:0,this.orientation.beta=t.beta?t.beta:0,this.initialOrientation||(this.initialOrientation={gamma:this.orientation.gamma,beta:this.orientation.beta}),le.a.to(this.camera.rotation,2,{x:this.orientation.beta?(this.orientation.beta-this.initialOrientation.beta)*(R/300):0,y:this.orientation.gamma?(this.orientation.gamma-this.initialOrientation.gamma)*(R/300):0,ease:"Power4.easeOut"})}},{key:"resetOrientation",value:function(){this.initialOrientation={gamma:this.orientation.gamma,beta:this.orientation.beta}}},{key:"updateScene",value:function(){var e=this,t=!!(0<arguments.length&&void 0!==arguments[0])&&arguments[0];if(this.remainingPages=Object.keys(this.pagePositions).filter(function(t){return e.timeline.position.z>-e.pagePositions[t]}),t||this.remainingPages[this.remainingPages.length-1]&&this.activePage!==this.remainingPages[this.remainingPages.length-1]){this.activePage=t?t:this.remainingPages[this.remainingPages.length-1];var o,a=new j.a(this.pages[this.activePage].bgColor),i=new j.a(this.pages[this.activePage].textColor),n=new j.a(this.pages[this.activePage].tintColor);if(!this.isWhooshing){var s={volume:this.audio.getVolume()};le.a.to([s],1,{volume:0,ease:"Power4.easeOut",onUpdateParams:[s],onUpdate:function(t){e.audio.setVolume(t.volume)},onComplete:function(){e.audio=new te.a(e.audioListener),e.audio.setVolume(.2),e.audio.loop=!0,e.audio.setBuffer(e.assets.audio[e.activePage].background_music),e.isMuted||e.audio.play(),le.a.to([s],1,{volume:.2,ease:"Power4.easeOut",onUpdateParams:[s],onUpdate:function(t){e.audio.setVolume(t.volume)}})}})}for(var r in le.a.to([this.scene.fog.color,this.scene.background],1,{r:a.r,g:a.g,b:a.b,ease:"Power4.easeOut"}),le.a.to(this.textMat.color,1,{r:i.r,g:i.g,b:i.b,ease:"Power4.easeOut"}),le.a.set([this.textItemMat.color,this.captionTextMat.color,this.linkUnderlineMat.color,this.textItemUnderlineMat.color],{r:i.r,g:i.g,b:i.b}),this.items)le.a.to(this.items[r].uniforms.gradientColor.value,1,{r:n.r,g:n.g,b:n.b,ease:"Power4.easeOut"});if(this.pages[this.activePage].outlineTextColor){var l=new j.a(this.pages[this.activePage].outlineTextColor);o=l.getHexString(),le.a.to([this.textOutlineMat.color],1,{r:l.r,g:l.g,b:l.b,ease:"Power4.easeOut"})}else o=i.getHexString();this.pages[this.activePage].contactColor?this.contactTextMat.color.set(this.pages[this.activePage].contactColor):this.contactTextMat.color.set(16777215),le.a.to(this.dom.mainSvgs,1,{fill:"#".concat(o),ease:"Power4.easeOut"}),le.a.to([this.dom.cursorSvgs,this.dom.compassSvg],1,{stroke:"#".concat(o),ease:"Power4.easeOut"}),le.a.to(".bibliography .underline",1,{borderBottomColor:"#".concat(o),ease:"Power4.easeOut"}),document.querySelector("meta[name=theme-color]").setAttribute("content","#"+a.getHexString()),"end"!==this.activePage||this.sections.end.arrowTween?this.sections.end.arrowTween&&(this.sections.end.arrowTween=!1):this.sections.end.arrowTween=le.a.to(this.sections.end.arrow.position,1,{z:0,repeat:-1,yoyo:!0,ease:"Power2.easeInOut"})}}},{key:"handleVideos",value:function(){this.camera.updateMatrixWorld(),this.camera.matrixWorldInverse.getInverse(this.camera.matrixWorld),this.cameraViewProjectionMatrix.multiplyMatrices(this.camera.projectionMatrix,this.camera.matrixWorldInverse),this.frustum.setFromMatrix(this.cameraViewProjectionMatrix);for(var e=0;e<this.videoCount;e++){if(this.frustum.intersectsObject(this.videoItems[e])&&this.videoItems[e].material.uniforms.texture.value.image.paused){this.videoItems[e].material.uniforms.texture.value.image.play();continue}this.frustum.intersectsObject(this.videoItems[e])||this.videoItems[e].material.uniforms.texture.value.image.paused||this.videoItems[e].material.uniforms.texture.value.image.pause()}}},{key:"animate",value:function(){if(this.animationId=requestAnimationFrame(this.animate.bind(this)),!this.c.touchEnabled&&this.updatingPerspective&&(this.updatePerspective(),this.updatingPerspective=!1),0<this.c.autoMoveSpeed&&(this.c.scrolling=!0,this.c.scrollPos+=this.c.autoMoveSpeed),this.c.allowScrolling&&this.c.scrolling){0>=this.c.scrollPos&&(this.c.scrollPos=0),this.c.scrollPos>=-this.stopScrollPos&&(this.c.scrollPos=-this.stopScrollPos);var e=(this.c.scrollPos-this.timeline.position.z)/12;this.timeline.position.z+=e,!this.c.isMobile&&8>W(e)&&this.handleVideos(),this.easterEggEnabled||this.updateScene(),this.isWhooshing&&0===this.c.scrollPos&&(this.isWhooshing=!1),this.c.scrolling=!!(.1<W(e))}this.hoveringWhoosh&&(this.sections.end.circle.rotation.z+=.005),this.renderer.render(this.scene,this.camera)}},{key:"resize",value:function(){this.c.size={w:window.innerWidth,h:window.innerHeight},this.camera.fov=180*(2*t(this.c.size.h/2/this.camera.position.z))/R,this.camera.aspect=this.c.size.w/this.c.size.h,this.camera.updateProjectionMatrix(),this.renderer.setSize(this.c.size.w,this.c.size.h)}},{key:"eyeCursorElEnter",value:function(){this.dom.cursor.dataset.cursor="eye"}},{key:"eyeCursorElLeave",value:function(){this.dom.cursor.dataset.cursor="pointer"}},{key:"initListeners",value:function(){var e=this;this.resize=this.resize.bind(this),this.scroll=this.scroll.bind(this),this.mouseDown=this.mouseDown.bind(this),this.mouseUp=this.mouseUp.bind(this),this.openBibliography=this.openBibliography.bind(this),this.moveToStart=this.moveToStart.bind(this),window.addEventListener("resize",this.resize,!1),this.renderer.domElement.addEventListener("mousedown",this.mouseDown,!1),this.renderer.domElement.addEventListener("mouseup",this.mouseUp,!1),this.renderer.domElement.addEventListener("wheel",this.scroll,!1),this.gyroEnabled&&(this.updateOrientation=this.updateOrientation.bind(this),this.resetOrientation=this.resetOrientation.bind(this),window.addEventListener("deviceorientation",this.updateOrientation),this.dom.compass.addEventListener("click",this.resetOrientation,!1)),this.muteButton=document.getElementById("mute"),this.unmuteButton=document.getElementById("unmute");var t=document.querySelector(".toggle-mute");t.appendChild(this.muteButton),t.addEventListener("click",function(){e.isMuted?(t.replaceChild(e.muteButton,e.unmuteButton),e.itemOpen?e.itemOpen.video.muted=!1:e.audio.play(),e.isMuted=!1):(t.replaceChild(e.unmuteButton,e.muteButton),e.itemOpen?e.itemOpen.video.muted=!0:e.audio.pause(),e.isMuted=!0)},!1),document.querySelector(".bibliography").addEventListener("click",this.openBibliography,!1),this.enableLoader&&document.querySelector(".enter").addEventListener("click",this.moveToStart,!1),this.gesture=new de(this.renderer.domElement,{mouseSupport:!1}),this.gesture.on("panmove",function(){e.c.scrollPos+=6*-e.gesture.velocityY,e.c.scrolling=!0}),this.gesture.on("panend",function(){return e.c.autoMoveSpeed=0}),this.gesture.on("longpress",function(){return e.c.autoMoveSpeed=10}),this.c.touchEnabled||(this.dom.cursor.dataset.cursor="pointer")}},{key:"initCursorListeners",value:function(){this.eyeCursorElEnter=this.eyeCursorElEnter.bind(this),this.eyeCursorElLeave=this.eyeCursorElLeave.bind(this),this.mouseMove=this.mouseMove.bind(this),window.addEventListener("mousemove",this.mouseMove,!1);for(var e=document.querySelectorAll(".cursor-eye"),t=0;t<e.length;t++)e[t].addEventListener("mouseenter",this.eyeCursorElEnter,!1),e[t].addEventListener("mouseleave",this.eyeCursorElLeave,!1)}},{key:"preventPullToRefresh",value:function(){var t=!1;this.renderer.domElement.addEventListener("touchstart",function(o){if(1===o.touches.length){var e=window.pageYOffset||document.body.scrollTop||document.documentElement.scrollTop;t=0===e}}),this.renderer.domElement.addEventListener("touchmove",function(o){t&&(t=!1,o.preventDefault())})}},{key:"easterEgg",value:function(){if(this.timelineEntered){console.log("CHEATER!"),this.easterEggEnabled=!0,le.a.to(this.timeline.rotation,2,{z:360*R/180,ease:"Power4.easeInOut"}),this.discoColours();for(var e=0;e<this.itemMeshes.length-1;e++)le.a.to(this.itemMeshes[e].rotation,2,{z:360*R/180,ease:"Linear.easeNone",repeat:-1});for(var t in le.a.to(this.sections.intro.children[2].rotation,2,{z:360*R/180,ease:"Linear.easeNone",repeat:-1}),this.sections)le.a.to(this.sections[t].children[0].position,1,{z:150,repeat:-1,yoyo:!0,ease:"Linear.easeNone"})}}},{key:"discoColours",value:function(){var e=this,t=function(t){le.a.to(e.items[t].uniforms.gradientColor.value,1,{r:.9882352941,g:.2941176471,b:.05882352941,ease:"Power4.easeOut",onComplete:function(){le.a.to(e.items[t].uniforms.gradientColor.value,1,{r:.9882352941,g:.05882352941,b:.7529411765,ease:"Power4.easeOut",onComplete:function(){le.a.to(e.items[t].uniforms.gradientColor.value,1,{r:.05882352941,g:.7529411765,b:.9882352941,ease:"Power4.easeOut",onComplete:function(){le.a.to(e.items[t].uniforms.gradientColor.value,1,{r:.05882352941,g:.9882352941,b:.2941176471,ease:"Power4.easeOut"})}})}})}})};for(var o in this.items)t(o);le.a.to(this.textMat.color,1,{r:.9882352941,g:.2941176471,b:.05882352941,ease:"Power4.easeOut",onComplete:function(){le.a.to(e.textMat.color,1,{r:.9882352941,g:.05882352941,b:.7529411765,ease:"Power4.easeOut",onComplete:function(){le.a.to(e.textMat.color,1,{r:.05882352941,g:.7529411765,b:.9882352941,ease:"Power4.easeOut",onComplete:function(){le.a.to(e.textMat.color,1,{r:.05882352941,g:.9882352941,b:.2941176471,ease:"Power4.easeOut"})}})}})}}),le.a.to([this.scene.fog.color,this.scene.background],1,{r:.05882352941,g:.9882352941,b:.2941176471,ease:"Power4.easeOut",onComplete:function(){le.a.to([e.scene.fog.color,e.scene.background],1,{r:.05882352941,g:.7529411765,b:.9882352941,ease:"Power4.easeOut",onComplete:function(){le.a.to([e.scene.fog.color,e.scene.background],1,{r:.9882352941,g:.05882352941,b:.7529411765,ease:"Power4.easeOut",onComplete:function(){le.a.to([e.scene.fog.color,e.scene.background],1,{r:.9882352941,g:.2941176471,b:.05882352941,ease:"Power4.easeOut",onComplete:function(){e.discoColours()}})}})}})}})}}]),e}();e.hot.accept(),e.hot.dispose(function(){window.assets=De.assets,De.renderer.domElement.removeEventListener("wheel",De.scroll),removeEventListener("resize",De.resize),De.renderer.domElement.removeEventListener("mousedown",De.mouseDown),De.renderer.domElement.removeEventListener("mouseup",De.mouseUp),removeEventListener("mousemove",De.mouseMove),document.querySelector("canvas").remove(),De.renderer.forceContextLoss(),De.renderer.context=null,De.renderer.domElement=null,De.renderer=null,cancelAnimationFrame(De.animationId),De.gesture.destroy()});var De=new _e;window.timeline=De},yLpj:function(e){var t=function(){return this}();try{t=t||new Function("return this")()}catch(o){"object"==typeof window&&(t=window)}e.exports=t}},[[0,3,2,1]]]);